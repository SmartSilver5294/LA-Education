---
title: "LA Education"
author: "Ayush Chandra"
execute:
    echo: FALSE
    message: FALSE
    warning: FALSE
---

```{r}
library(tidycensus)
library(tidyverse)
library(tidyr)
library(primer.data)
library(viridis)
```
```{r}

ggplot(education_summary) +
  geom_sf(aes(fill = bachelors_pct), color = NA) +
  scale_fill_viridis(
    name = "% with Bachelor's",
    option = "D",
    direction = -1
  ) +
  labs(
    title = "Bachelor's Degree Attainment in Los Angeles Census Tracts",
    subtitle = "Percentage of population 25+ with a Bachelor's (ACS 2020)",
    caption = "Source: U.S. Census via tidycensus"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold"),
    panel.grid = element_blank()
  )
```



```{r}
# Load libraries
library(leaflet)
library(sf)
library(RColorBrewer)

# Define a color palette (you can play with options like "YlGnBu", "PuRd", etc.)
pal <- colorNumeric(
  palette = "YlOrRd",
  domain = la_tracts$estimate
)

# Create interactive map
leaflet(data = la_tracts) %>%
  addProviderTiles("CartoDB.Positron") %>%
  addPolygons(
    fillColor = ~pal(estimate),
    weight = 0.5,
    opacity = 1,
    color = "#ffffff",
    fillOpacity = 0.7,
    highlightOptions = highlightOptions(
      weight = 2,
      color = "#666",
      fillOpacity = 0.9,
      bringToFront = TRUE
    ),
    label = ~paste0("Tract: ", GEOID, "<br>Population: ", estimate),
    labelOptions = labelOptions(
      style = list("font-weight" = "normal", padding = "3px 8px"),
      textsize = "13px",
      direction = "auto"
    )
  ) %>%
  addLegend(
    pal = pal,
    values = ~estimate,
    opacity = 0.7,
    title = "Population",
    position = "bottomright"
  )
```

```{r}
# Define a color palette (you can play with options like "YlGnBu", "PuRd", etc.)
pal <- colorNumeric(
  palette = "YlOrRd",
  domain = la_tracts$estimate
)

# Create interactive map
leaflet(data = la_tracts) %>%
  addProviderTiles("CartoDB.Positron") %>%
  addPolygons(
    fillColor = ~pal(estimate),
    weight = 0.5,
    opacity = 1,
    color = "#ffffff",
    fillOpacity = 0.7,
    highlightOptions = highlightOptions(
      weight = 2,
      color = "#666",
      fillOpacity = 0.9,
      bringToFront = TRUE
    ),
    label = ~paste0("Tract: ", GEOID, "<br>Population: ", estimate),
    labelOptions = labelOptions(
      style = list("font-weight" = "normal", padding = "3px 8px"),
      textsize = "13px",
      direction = "auto"
    )
  ) %>%
  addLegend(
    pal = pal,
    values = ~estimate,
    opacity = 0.7,
    title = "Population",
    position = "bottomright"
  )
```
